@import "tailwindcss";
@plugin "@tailwindcss/typography";

@theme {
  /* Typography: Serif font stack for story reading */
  --font-serif: "Georgia", "Times New Roman", "Times", serif;

  /* Off-white background color for comfortable reading */
  --color-paper: #faf9f7;
  --color-paper-dark: #f5f4f2;

  /* Ink colors for text */
  --color-ink: #1c1917;
  --color-ink-muted: #57534e;
  --color-ink-light: #78716c;

  /* Readable line heights */
  --line-height-reading: 1.75;
  --line-height-tight: 1.4;

  /* Story content max-width for optimal reading */
  --width-prose: 65ch;
}

/* Base styles for reading experience */
@layer base {
  html {
    background-color: var(--color-paper);
    /* Prevent horizontal scroll on mobile */
    overflow-x: hidden;
  }

  body {
    font-family: var(--font-serif);
    color: var(--color-ink);
    line-height: var(--line-height-reading);
    /* Smooth font rendering */
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  /* Typography prose customization for story content */
  .prose {
    --tw-prose-body: var(--color-ink);
    --tw-prose-headings: var(--color-ink);
    --tw-prose-links: var(--color-ink);
    --tw-prose-bold: var(--color-ink);
    --tw-prose-quotes: var(--color-ink-muted);
    --tw-prose-quote-borders: var(--color-ink-light);
    max-width: var(--width-prose);
    font-family: var(--font-serif);
    line-height: var(--line-height-reading);
  }

  /* First paragraph drop cap for stories */
  .story-content > p:first-of-type::first-letter {
    float: left;
    font-size: 3.5rem;
    line-height: 1;
    padding-right: 0.5rem;
    padding-top: 0.25rem;
    font-weight: 500;
  }

  /* Smaller drop cap on mobile */
  @media (max-width: 640px) {
    .story-content > p:first-of-type::first-letter {
      font-size: 2.5rem;
      padding-right: 0.375rem;
      padding-top: 0.125rem;
    }
  }
}

/* Responsive utilities */
@layer utilities {
  /* Safe area insets for mobile devices with notches */
  .safe-top {
    padding-top: env(safe-area-inset-top);
  }

  .safe-bottom {
    padding-bottom: env(safe-area-inset-bottom);
  }

  .safe-x {
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }

  /* Touch-friendly tap targets */
  .touch-target {
    min-height: 44px;
    min-width: 44px;
  }

  /* Clamp text to N lines */
  .line-clamp-2 {
    display: -webkit-box;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }

  .line-clamp-3 {
    display: -webkit-box;
    -webkit-line-clamp: 3;
    -webkit-box-orient: vertical;
    overflow: hidden;
  }
}
